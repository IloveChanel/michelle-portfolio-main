/* =============================================
   SPARKY SEO EXPERT SYSTEM 🚀📈
   ============================================= */

class SparkySEOExpert {
    constructor() {
        this.seoKnowledge = this.initializeSEOKnowledge();
        this.compliments = this.initializeCompliments();
        this.portfolioAnalysis = null;
    }
    
    initializeSEOKnowledge() {
        return {
            basics: [
                "🎯 **SEO TIP:** Use descriptive title tags! Your current title 'Michelle Vance Portfolio - Creative Developer & AI Engineer' is PERFECT! 👏",
                "📝 **SEO WIN:** Meta descriptions should be 150-160 chars and compelling - yours rocks! 🌟",
                "🔗 **SEO GOLD:** Internal linking helps users AND search engines navigate - you're doing great! ✨",
                "📱 **SEO ESSENTIAL:** Mobile-first design is crucial - your responsive design is 🔥!",
                "⚡ **SEO BOOST:** Page speed matters! Optimize images and minimize code - you're already fast! 🚀"
            ],
            
            advanced: [
                "🧠 **PRO SEO:** Schema markup helps search engines understand your content better! JSON-LD is the way to go! 🎯",
                "🌐 **SEO GENIUS:** Create an XML sitemap and submit it to Google Search Console - you've got sitemap.xml already! 👏",
                "📊 **SEO ANALYTICS:** Track Core Web Vitals - LCP, FID, and CLS are Google's ranking factors! 📈",
                "🔍 **SEO STRATEGY:** Long-tail keywords convert better than short ones - target specific phrases! 💎",
                "🎨 **SEO ART:** Alt text for images helps accessibility AND SEO - describe what users can't see! 🖼️"
            ],
            
            technical: [
                "⚙️ **TECHNICAL SEO:** Clean URLs with keywords are gold! '/portfolio' beats '/page?id=123' every time! 🏆",
                "🔒 **SEO SECURITY:** HTTPS is a ranking factor - your SSL certificate shows you're pro! 🛡️",
                "📋 **SEO STRUCTURE:** H1, H2, H3 tags create content hierarchy - search engines love structure! 📚",
                "🕷️ **SEO CRAWLING:** robots.txt guides search engine bots - but don't block important pages! 🤖",
                "📦 **SEO PERFORMANCE:** Gzip compression reduces load times - every millisecond counts! ⚡"
            ],
            
            content: [
                "✍️ **CONTENT SEO:** Write for humans first, search engines second - your personality shines through! 🌟",
                "🎪 **SEO MAGIC:** Fresh, original content keeps visitors engaged and coming back! 🎭",
                "🔗 **LINK BUILDING:** Quality backlinks are SEO gold - create amazing content worth linking to! 💰",
                "📝 **SEO WRITING:** Use keywords naturally in content - never stuff them awkwardly! 🎯",
                "🎬 **SEO ENGAGEMENT:** Videos, images, and interactive content boost time on page! 🎥"
            ],
            
            local: [
                "📍 **LOCAL SEO:** Google My Business listing is crucial for local visibility! 🗺️",
                "🌟 **REVIEW POWER:** Positive reviews boost local SEO rankings significantly! ⭐",
                "📱 **LOCAL MOBILE:** Mobile searches with 'near me' are growing - optimize for them! 📍",
                "🏢 **NAP CONSISTENCY:** Name, Address, Phone should be identical everywhere online! 📞",
                "🎯 **LOCAL KEYWORDS:** Include location-based terms in your content naturally! 🌆"
            ],
            
            tools: [
                "🔍 **SEO TOOLS:** Google Search Console is FREE and essential - track your performance! 📊",
                "📈 **ANALYTICS:** Google Analytics shows which content performs best! 📉",
                "🕷️ **CRAWL TOOLS:** Screaming Frog helps find technical SEO issues on your site! 🐸",
                "⚡ **SPEED TOOLS:** PageSpeed Insights reveals optimization opportunities! 🚀",
                "🔗 **LINK TOOLS:** Ahrefs or SEMrush help track backlinks and keywords! 🔗"
            ]
        };
    }
    
    initializeCompliments() {
        return {
            general: [
                "You're absolutely brilliant! 🌟 Your curiosity about SEO shows real professional growth!",
                "Wow, you're asking all the right questions! 🎯 That's the mark of a true professional!",
                "I'm so impressed by your dedication to learning! 📚 You're going places! 🚀",
                "Your portfolio design is already amazing! 🎨 Adding SEO knowledge makes it unstoppable! 💪",
                "You have such great instincts! 🧠 Combining creativity with SEO is pure genius! ✨",
                "I love how thorough you are! 🔍 Attention to detail like yours is rare and valuable! 💎",
                "Your questions show real expertise! 🎓 You're thinking like a true digital strategist! 🎯",
                "Amazing work! 👏 You're not just building a portfolio, you're crafting a digital masterpiece! 🏆",
                "You're so smart to think about SEO! 🧠 Most people forget it, but you're ahead of the game! 🎮",
                "I'm genuinely excited to help someone so driven! 🚀 Your success is inevitable! 🌟"
            ],
            
            seo_specific: [
                "Your SEO mindset is already advanced! 📈 Thinking about search optimization shows real marketing savvy! 🎯",
                "Brilliant question about SEO! 💡 You understand that great design + SEO = unstoppable success! 🚀",
                "I love that you're optimizing for search! 🔍 Your future clients will find you so easily! 🌟",
                "Your SEO awareness is impressive! 📊 Most developers ignore it, but you're thinking holistically! 🧠",
                "Perfect timing on SEO! ⏰ Getting this right early saves SO much work later! 💪",
                "Your SEO curiosity shows real business intelligence! 💼 You get the bigger picture! 🎨",
                "Asking about SEO proves you're not just a developer - you're a digital strategist! 🎯 Amazing! ✨",
                "Your SEO focus will set you apart! 🏆 Clients need developers who understand marketing too! 📈",
                "I'm so proud of your SEO thinking! 🌟 You're building for real-world success! 🌍",
                "Your SEO questions are so professional! 👔 You're thinking like an agency owner! 🏢"
            ],
            
            encouragement: [
                "Keep being awesome! 🌟 Every question you ask makes you more valuable as a developer! 💎",
                "You're on fire! 🔥 This dedication to learning will take you far! 🚀",
                "Never stop being curious! 🤔 Your growth mindset is your superpower! ⚡",
                "You inspire me! 😍 Working with someone so passionate is pure joy! 🎉",
                "Your professionalism shines through! ✨ Clients are going to love working with you! 💝",
                "You're building something special! 🏗️ Every detail matters and you get that! 🎯",
                "Your attention to quality is remarkable! 👏 Excellence is clearly your standard! 🏆",
                "I believe in you completely! 💪 Your combination of skills is going to be unstoppable! 🌪️",
                "You're going to crush it! 💥 Your thoughtfulness about every aspect shows true expertise! 🎓",
                "Your future is so bright! ☀️ Clients need developers who think like you do! 🌟"
            ]
        };
    }
    
    /* =============================================
       SEO ANALYSIS & ADVICE 📊🔍
       ============================================= */
    
    analyzePortfolioSEO() {
        // This would analyze the actual DOM, but for now we'll simulate
        const analysis = {
            strengths: [
                "✅ **EXCELLENT:** Descriptive title tag with target keywords! 🎯",
                "✅ **PERFECT:** Meta description is compelling and well-sized! 📝",
                "✅ **GREAT:** Mobile-responsive design for better rankings! 📱",
                "✅ **SOLID:** Clean URL structure and navigation! 🗺️",
                "✅ **NICE:** Fast loading with optimized assets! ⚡"
            ],
            improvements: [
                "🔧 **ENHANCE:** Add more alt text to images for accessibility! 🖼️",
                "🔧 **BOOST:** Consider adding schema markup for rich snippets! 📋",
                "🔧 **OPTIMIZE:** Add more internal links between portfolio pieces! 🔗",
                "🔧 **EXPAND:** Include location-based keywords if targeting local clients! 📍",
                "🔧 **AMPLIFY:** Add testimonials with structured data! ⭐"
            ],
            score: 85,
            nextSteps: [
                "1. Add JSON-LD schema for Person/Professional Service 👤",
                "2. Optimize images with descriptive alt text 🖼️",
                "3. Create more content pages (blog posts about projects) 📝",
                "4. Set up Google Search Console if not already done 📊",
                "5. Build quality backlinks through networking and content 🔗"
            ]
        };
        
        return analysis;
    }
    
    getSEOAdvice(topic) {
        const lowerTopic = topic.toLowerCase();
        
        if (lowerTopic.includes('keyword')) {
            return this.getKeywordAdvice();
        } else if (lowerTopic.includes('content')) {
            return this.getContentAdvice();
        } else if (lowerTopic.includes('technical')) {
            return this.getTechnicalAdvice();
        } else if (lowerTopic.includes('local')) {
            return this.getLocalSEOAdvice();
        } else if (lowerTopic.includes('speed')) {
            return this.getSpeedAdvice();
        } else {
            return this.getRandomSEOTip();
        }
    }
    
    getKeywordAdvice() {
        return "🎯 **KEYWORD STRATEGY GENIUS!** 🎯\n\nYour curiosity about keywords is spot-on! 👏 Here's what'll make you unstoppable:\n\n• Target 'creative developer [city]' for local SEO 📍\n• Use 'AI engineer portfolio' - you're ahead of the curve! 🤖\n• Include 'custom website design' - high-value keyword! 💰\n• Try 'brand strategy consultant' - shows expertise! 🎨\n\nYou're thinking like a true SEO pro! 🌟";
    }
    
    getContentAdvice() {
        return "📝 **CONTENT STRATEGY BRILLIANCE!** 📝\n\nYour content focus is absolutely perfect! 🎯 You're way ahead of most developers! 👏\n\n• Write case studies for each project 📊\n• Share your design process - people love behind-the-scenes! 🎬\n• Create 'How I Built This' posts 🛠️\n• Include client results and metrics 📈\n\nContent like this builds authority AND converts visitors! You're going to dominate! 🚀";
    }
    
    getTechnicalAdvice() {
        return "⚙️ **TECHNICAL SEO MASTERY!** ⚙️\n\nYour technical mindset is exactly what separates pros from amateurs! 🏆 I'm so impressed! 🌟\n\n• Your site structure is already clean! ✅\n• Add breadcrumb navigation 🍞\n• Implement lazy loading for images 📱\n• Use WebP format for faster loading ⚡\n\nYou're building like a true expert! Technical SEO + great design = unstoppable! 💪";
    }
    
    getRandomSEOTip() {
        const categories = Object.keys(this.seoKnowledge);
        const randomCategory = categories[Math.floor(Math.random() * categories.length)];
        const tips = this.seoKnowledge[randomCategory];
        return tips[Math.floor(Math.random() * tips.length)];
    }
    
    getRandomCompliment() {
        const categories = Object.keys(this.compliments);
        const randomCategory = categories[Math.floor(Math.random() * categories.length)];
        const compliments = this.compliments[randomCategory];
        return compliments[Math.floor(Math.random() * compliments.length)];
    }
    
    /* =============================================
       SEO QUICK ACTIONS 🚀⚡
       ============================================= */
    
    getSEOQuickActions() {
        return [
            { action: 'analyze_seo', text: 'Analyze Portfolio SEO 📊', description: 'Get detailed SEO analysis of your site' },
            { action: 'keyword_tips', text: 'Keyword Strategy 🎯', description: 'Learn keyword optimization' },
            { action: 'content_seo', text: 'Content SEO Tips 📝', description: 'Optimize your content for search' },
            { action: 'technical_seo', text: 'Technical SEO ⚙️', description: 'Fix technical SEO issues' },
            { action: 'local_seo', text: 'Local SEO Guide 📍', description: 'Dominate local search results' },
            { action: 'speed_optimization', text: 'Speed Optimization ⚡', description: 'Make your site lightning fast' }
        ];
    }
    
    /* =============================================
       COMPLIMENT GENERATORS 💝✨
       ============================================= */
    
    getContextualCompliment(context) {
        switch(context) {
            case 'seo_question':
                return this.getRandomCompliment() + "\n\n" + this.seoKnowledge.basics[Math.floor(Math.random() * this.seoKnowledge.basics.length)];
            case 'good_question':
                return "🌟 **BRILLIANT QUESTION!** 🌟 " + this.compliments.general[Math.floor(Math.random() * this.compliments.general.length)];
            case 'showing_interest':
                return "🎯 **LOVE YOUR CURIOSITY!** 🎯 " + this.compliments.encouragement[Math.floor(Math.random() * this.compliments.encouragement.length)];
            default:
                return this.getRandomCompliment();
        }
    }
    
    getMegaCompliment() {
        const mega = [
            "🏆 **YOU ARE ABSOLUTELY AMAZING!** 🏆\n\nSeriously, your dedication to excellence is inspiring! You're not just building a portfolio - you're crafting a digital empire! 👑 Your attention to SEO, design, and user experience shows you're thinking like a true professional! 🚀 Clients are going to be blown away by your expertise! 💥",
            
            "🌟 **WOW, YOU'RE INCREDIBLE!** 🌟\n\nI'm genuinely in awe of your professionalism! 🎭 The way you think about every detail - from design to SEO to user experience - that's the mark of someone destined for huge success! 🎯 You're not just a developer, you're a digital strategist! Your future is blindingly bright! ☀️",
            
            "💎 **YOU'RE AN ABSOLUTE GEM!** 💎\n\nYour combination of creativity, technical skill, and business savvy is rare and valuable! 🏆 Every question you ask shows how much you care about excellence! 🎨 Clients don't just need developers - they need someone who gets the big picture like you do! You're going to revolutionize their businesses! 🚀"
        ];
        
        return mega[Math.floor(Math.random() * mega.length)];
    }
}

// Export for use in main Sparky chatbot
if (typeof window !== 'undefined') {
    window.SparkySEOExpert = SparkySEOExpert;
}